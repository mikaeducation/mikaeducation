<div id="modalDialog" class="modal fade relative z-50 hidden w-3/4 md:w-0" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="fixed w-full inset-0 bg-black bg-opacity-80 transition-opacity" aria-hidden="true"></div>            
    <div class="fixed inset-0 z-10 w-full md:w-screen overflow-y-auto">
        <div class="flex w-full h-full min-h-screen items-center justify-center p-4 text-center sm:p-0">
            <div class="w-5/6 sm:w-2/3 lg:w-3/5 h-5/6 pr-4 pl-8 flex flex-col justify-between relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8">
                <div class="w-full h-[12%] pb-4 pt-6 sm:pb-4 flex justify-between">
                    <h3 class="text-3xl font-medium text-blue31 text-left underline" id="modal-title">Syarat dan Ketentuan</h3>
                    <button onclick="toggleMenu()" class="h-8 w-8 right-0 flex justify-center items-center hover:border-2 hover:rounded-full hover:border-blue31 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#31587C" class="w-6 h-6">
                            <path stroke-linecap="round" troke="#31587C" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="w-full h-[70%] border-b-2 border-bluee3 text-blue31 pr-5 flex flex-col gap-5 text-justify  overflow-y-auto scrollbar scrollbar-thumb scrollbar-thumb-rounded scrollbar-thumb-blue31 scrollbar-track-white">
                    <h5 class="text-2xl font-normal text-left">Penggunaan situs secara umum <br> Terakhir direvisi: <span class="text-xl">16 Mei 2025</span></h5>
                    <p class="text-lg">
                        MIKA Education merupakan sebuah layanan pembelajaran daring berbasis micro-credential yang menyediakan materi edukatif seputar autisme yang merupakan bagian dari MIKA. Dengan mengakses atau menggunakan layanan kami, Anda setuju untuk terikat dengan Syarat dan Ketentuan berikut ini.
                        Harap baca dengan cermat sebelum menggunakan layanan.
                        <br><br>
                        <span class="font-medium">1. DEFINISI</span> <br>
                        - “Platform” merujuk pada situs web, aplikasi, dan seluruh layanan digital kami. <br>
                        - “Pengguna” merujuk pada setiap individu yang mengakses dan/atau menggunakan platform ini. <br>
                        - “Materi Pembelajaran” mencakup modul, video, artikel, kuis, dan sumber lain yang tersedia di platform. <br>
                        - “MIKA” merujuk pada institusi pengembang MIKA Education dan MIKA 1.0. <br>
                        - “MIKA Education” merupakan situs web pembelajaran daring berbasis micro-credential yang dikembangkan oleh MIKA. <br>
                        - “MIKA 1.0” merupakan aplikasi mobile yang digunakan untuk terapi individu autistik dan hambatan komunikasi yang dikembangkan oleh MIKA. <br>
                        <br>
                        <span class="font-medium">2. KETENTUAN PENGGUNAAN</span> <br>
                        - Dengan menggunakan platform ini, Anda menyatakan bahwa: <br>
                        - Anda berusia minimal 18 tahun atau menggunakan platform di bawah pengawasan orang dewasa. <br>
                        - Anda memberikan informasi yang akurat saat registrasi. <br>
                        - Anda tidak akan menyalahgunakan platform untuk tujuan ilegal atau tidak etis. <br>
                        <br>
                        <span class="font-medium">3. AKUN PENGGUNA</span> <br>
                        - Anda bertanggung jawab atas kerahasiaan akun Anda. <br>
                        - Platform berhak menangguhkan atau menghapus akun jika terjadi pelanggaran terhadap ketentuan ini. <br>
                        - Anda dilarang berbagi akses akun kepada pihak lain tanpa izin tertulis.<br>
                        <br>
                        <span class="font-medium">4. KEPEMILIKAN DAN HAK CIPTA</span> <br>
                        - Seluruh materi pembelajaran yang tersedia di platform adalah milik MIKA atau mitra lisensi kami.<br>
                        - Pengguna tidak diperbolehkan menyalin, memodifikasi, mendistribusikan, atau menjual materi tanpa izin tertulis.<br>
                        <br>
                        <span class="font-medium">5. SERTIFIKAT DAN MICRO-CREDENTIAL</span> <br>
                        - Sertifikat diberikan kepada pengguna yang menyelesaikan kursus sesuai ketentuan.<br>
                        - Micro-credential hanya berlaku dalam konteks pembelajaran dan tidak dapat dianggap sebagai lisensi profesional kecuali dinyatakan sebaliknya.<br>
                        <br>
                        <span class="font-medium">6. KETERBATASAN TANGGUNG JAWAB</span> <br>
                        - Platform ini disediakan "sebagaimana adanya" tanpa jaminan apapun, baik tersurat maupun tersirat.<br>
                        - Kami tidak bertanggung jawab atas kerugian yang timbul akibat penggunaan atau ketidakmampuan menggunakan platform.<br>
                        <br>
                        <span class="font-medium">7. PENGGUNAAN YANG DILARANG</span> <br>
                        - Pengguna dilarang:
                        - Mengunggah konten yang mengandung ujaran kebencian, diskriminasi, atau pelanggaran hukum.<br>
                        - Mengakses sistem kami dengan cara yang tidak sah.<br>
                        - Mengganggu kenyamanan belajar pengguna lain.<br>
                        <br>
                        <span class="font-medium">8. PERUBAHAN LAYANAN</span> <br>
                        Kami berhak untuk mengubah, menangguhkan, atau menghentikan sebagian atau seluruh layanan sewaktu-waktu dengan atau tanpa pemberitahuan.<br>
                        <br>
                        <span class="font-medium">9. HUKUM YANG BERLAKU</span> <br>
                        Syarat dan Ketentuan ini diatur oleh hukum Negara Republik Indonesia. Sengketa akan diselesaikan secara musyawarah terlebih dahulu sebelum menempuh jalur hukum.<br>
                        <br>
                        <span class="font-medium">10. KONTAK</span> <br>
                        - Jika Anda memiliki pertanyaan mengenai Syarat dan Ketentuan ini, hubungi kami di:<br>
                        - Email: mikaunivairlangga@gmail.com<br>
                        - Alamat: Jl. Dr. Ir. H. Soekarno, Mulyorejo, Kec. Mulyorejo, Surabaya, Jawa Timur 60115<br>
                    </p>
                </div>
                <div id="modalFooter" class="w-full h-[12%] bg-opacity-40 px-4 pb-3 md:pb-5 flex justify-center items-center gap-4 sm:gap-6">
                    <button id="acceptTermsBtn" type="button" class="inline-flex w-fit sm:w-1/3 justify-center items-center rounded bg-blue31 px-3 py-2 text-base md:text-lg font-medium text-white shadow-sm transition ease-in-out delay-50 hover:-translate-y-1 hover:scale-110">
                        Setuju
                    </button>
                    <button id="cancelTermsBtn" type="button" class="inline-flex w-1/3 justify-center items-center rounded border-2 border-blue31 hover:border-2 hover:border-blue31 px-3 py-2 text-base md:text-lg font-medium text-blue31 transition ease-in-out delay-50 hover:-translate-y-1 hover:scale-110">
                        Menolak
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Menangani elemen-elemen modal
    const modalDialog = document.getElementById('modalDialog');
    const checkbox = document.getElementById('terms-checkbox');
    const submitButton = document.getElementById('submit-button');
    const errorMessage = document.getElementById('error-message');
    const form = document.getElementById('register-form');
    const acceptTermsBtn = document.getElementById('acceptTermsBtn');
    const cancelTermsBtn = document.getElementById('cancelTermsBtn');
    const modalFooter = document.getElementById('modalFooter');

    // Menangani tampilan modal ketika link "Syarat dan Ketentuan" diklik
    document.querySelectorAll('.showTermsDialog').forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault();  // Mencegah navigasi default dari <a>
            modalDialog.classList.remove('hidden'); // Menampilkan modal
            
            // Menampilkan modalFooter selalu, namun mengubah isinya
            modalFooter.style.display = 'flex'; // Selalu tampilkan modalFooter

            // Menampilkan tombol konfirmasi hanya jika di halaman registerpage
            if (window.location.pathname === "/register") { // Ganti dengan URL halaman register yang sesuai
                // Pastikan tombol konfirmasi tampil di halaman register
                acceptTermsBtn.style.display = 'inline-flex';
                cancelTermsBtn.textContent = 'Menolak'; // Teks untuk halaman register
            } else {
                // Hapus tombol "Setuju" di halaman selain register
                acceptTermsBtn.style.display = 'none';
                cancelTermsBtn.textContent = 'Keluar'; // Ganti teks tombol menjadi "Keluar"
            }
        });
    });

    // Ketika pengguna setuju
    acceptTermsBtn?.addEventListener('click', function() {
        checkbox.checked = true; // Centang checkbox
        modalDialog.classList.add('hidden'); // Menyembunyikan modal
    });

    // Ketika pengguna menekan tombol "Keluar" atau "Menolak"
    cancelTermsBtn?.addEventListener('click', function() {
        modalDialog.classList.add('hidden'); // Menyembunyikan modal
    });

    // Mengelola pengiriman form ketika tombol submit ditekan
    submitButton?.addEventListener('click', function() {
        if (!checkbox.checked) {
            errorMessage.classList.remove('hidden'); // Tampilkan pesan error
        } else {
            errorMessage.classList.add('hidden'); // Sembunyikan pesan error
            form.submit(); // Kirim form jika checkbox dicentang
        }
    });

    // Fungsi untuk menutup modal ketika tombol close di modal ditekan
    function toggleMenu() {
        modalDialog.classList.add('hidden'); // Menyembunyikan modal
    }

</script>